// Character sprite definitions for all character types
// Each character has standing and jumping poses

import { CharacterType } from '@/stores/characterStore';

// Color palette for each character type
export const CHARACTER_COLORS: Record<CharacterType, Record<number, string>> = {
  surfer: {
    0: 'transparent',
    1: '#FFD4B8', // Skin
    2: '#8B4513', // Hair (brown)
    3: '#4A90D9', // Shorts (ocean blue)
    4: '#FFD700', // Surfboard (gold/yellow)
    5: '#1a1a1a', // Outline
    6: '#FFC0CB', // Skin shadow
    7: '#DAA520', // Board shadow
  },
  cat: {
    0: 'transparent',
    1: '#FF9F43', // Orange fur
    2: '#FFD93D', // Light fur
    3: '#FF6B6B', // Collar
    4: '#FFD700', // Board
    5: '#1a1a1a', // Outline
    6: '#E17055', // Fur shadow
    7: '#DAA520', // Board shadow
  },
  dog: {
    0: 'transparent',
    1: '#A0522D', // Brown fur
    2: '#DEB887', // Light fur
    3: '#4A90D9', // Bandana
    4: '#FFD700', // Board
    5: '#1a1a1a', // Outline
    6: '#8B4513', // Fur shadow
    7: '#DAA520', // Board shadow
  },
  robot: {
    0: 'transparent',
    1: '#95A5A6', // Metal body
    2: '#3498DB', // Blue parts
    3: '#2ECC71', // Green lights
    4: '#95A5A6', // Metal board
    5: '#1a1a1a', // Outline
    6: '#7F8C8D', // Metal shadow
    7: '#7F8C8D', // Board shadow
  },
  coach: {
    0: 'transparent',
    1: '#FFD4B8', // Skin
    2: '#2C3E50', // Dark hair
    3: '#E74C3C', // Red jersey
    4: '#FFD700', // Board
    5: '#1a1a1a', // Outline
    6: '#FFC0CB', // Skin shadow
    7: '#DAA520', // Board shadow
  },
  runner: {
    0: 'transparent',
    1: '#FFD4B8', // Skin
    2: '#9B59B6', // Purple hair
    3: '#F39C12', // Orange outfit
    4: '#FFD700', // Board
    5: '#1a1a1a', // Outline
    6: '#FFC0CB', // Skin shadow
    7: '#DAA520', // Board shadow
  },
};

// Generic character sprite - standing pose on surfboard
const STANDING_TEMPLATE = [
  '00000000022220000000000000000000',
  '00000000222222000000000000000000',
  '00000002222222200000000000000000',
  '00000002211112200000000000000000',
  '00000022111111220000000000000000',
  '00000021111111120000000000000000',
  '00000021110011120000000000000000',
  '00000021110011120000000000000000',
  '00000021111111120000000000000000',
  '00000002111111200000000000000000',
  '00000000211112000000000000000000',
  '00000000011110000000000000000000',
  '00000000111111000000000000000000',
  '00000001111111100000000000000000',
  '00000011133311110000000000000000',
  '00000111333331111000000000000000',
  '00001113333333111100000000000000',
  '00001133333333311100000000000000',
  '00000113333333311000000000000000',
  '00000011333333110000000000000000',
  '00000001133331100000000000000000',
  '00000001111111100000000000000000',
  '00000011100011110000000000000000',
  '00000111000001111000000000000000',
  '00000110000000110000000000000000',
  '55555555555555555555555555555555',
  '54444444444444444444444444444445',
  '54447777744444444444444447777745',
  '54444444444444444444444444444445',
  '55555555555555555555555555555555',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
];

// Jumping pose template
const JUMPING_TEMPLATE = [
  '00001100000002222000000000011000',
  '00001110000022222200000001110000',
  '00000111000222222220000111000000',
  '00000011100221111220011100000000',
  '00000001110211111121110000000000',
  '00000000112111111112110000000000',
  '00000000021110011112000000000000',
  '00000000021110011112000000000000',
  '00000000021111111112000000000000',
  '00000000002111111120000000000000',
  '00000000000211112000000000000000',
  '00000000000011110000000000000000',
  '00000000000111111000000000000000',
  '00000000001111111100000000000000',
  '00000000011133311110000000000000',
  '00000000111333331111000000000000',
  '00000001113333333111100000000000',
  '00000001133333333311100000000000',
  '00000000113333333311000000000000',
  '00000000011333333110000000000000',
  '00000000001133331100000000000000',
  '00000000001111111100000000000000',
  '00000000011100011110000000000000',
  '00000000111000001111000000000000',
  '00000000110000000110000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
];

// Cat-specific sprites (ears and tail)
const CAT_STANDING = [
  '00000000022220000000000000000000',
  '00220000222222000002200000000000',
  '02220002222222200022200000000000',
  '00222022222222202222000000000000',
  '00022222111112222200000000000000',
  '00000221111111220000000000000000',
  '00000021110011120000000000000000',
  '00000021110011120000000000000000',
  '00000021111111120000000000000000',
  '00000002111111200000000000000000',
  '00000000211112000000000000000000',
  '00000000011110000000000000000000',
  '00000000111111000000000000000000',
  '00000001111111100000000000000000',
  '00000011133311110000000000000000',
  '00000111333331111000000000000000',
  '00001113333333111100000000000000',
  '00001133333333311100000000022000',
  '00000113333333311000000002220000',
  '00000011333333110000000022200000',
  '00000001133331100000000222000000',
  '00000001111111100000002220000000',
  '00000011100011110000022200000000',
  '00000111000001111000222000000000',
  '00000110000000110002200000000000',
  '55555555555555555555555555555555',
  '54444444444444444444444444444445',
  '54447777744444444444444447777745',
  '54444444444444444444444444444445',
  '55555555555555555555555555555555',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
];

const CAT_JUMPING = [
  '00001100000002222000000000011000',
  '02201110000022222200000001112200',
  '02220111000222222220000111022200',
  '00222011100221111220011100222000',
  '00022201110211111121110002220000',
  '00000011122111111122110000000000',
  '00000000021110011112000000000000',
  '00000000021110011112000000000000',
  '00000000021111111112000000000000',
  '00000000002111111120000000000000',
  '00000000000211112000000000000000',
  '00000000000011110000000000000000',
  '00000000000111111000000000000000',
  '00000000001111111100000000000000',
  '00000000011133311110000000000000',
  '00000000111333331111000000022000',
  '00000001113333333111100002220000',
  '00000001133333333311100022200000',
  '00000000113333333311000222000000',
  '00000000011333333110002220000000',
  '00000000001133331100022200000000',
  '00000000001111111100222000000000',
  '00000000011100011110220000000000',
  '00000000111000001111000000000000',
  '00000000110000000110000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
];

// Dog-specific sprites (ears and tail)
const DOG_STANDING = [
  '00022000022220000220000000000000',
  '00022200222222002220000000000000',
  '00002222222222222200000000000000',
  '00000222211112222000000000000000',
  '00000022111111220000000000000000',
  '00000021111111120000000000000000',
  '00000021110011120000000000000000',
  '00000021110011120000000000000000',
  '00000021111111120000000000000000',
  '00000002111111200000000000000000',
  '00000000211112000000000000000000',
  '00000000011110000000000000000000',
  '00000000111111000000000000000000',
  '00000001111111100000000000000000',
  '00000011133311110000000000000000',
  '00000111333331111000000000000000',
  '00001113333333111100000000000000',
  '00001133333333311100000000220000',
  '00000113333333311000000002220000',
  '00000011333333110000000022220000',
  '00000001133331100000000022200000',
  '00000001111111100000000002200000',
  '00000011100011110000000000000000',
  '00000111000001111000000000000000',
  '00000110000000110000000000000000',
  '55555555555555555555555555555555',
  '54444444444444444444444444444445',
  '54447777744444444444444447777745',
  '54444444444444444444444444444445',
  '55555555555555555555555555555555',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
];

// Robot-specific sprites (antenna and blocky body)
const ROBOT_STANDING = [
  '00000000000330000000000000000000',
  '00000000033333300000000000000000',
  '00000000222222220000000000000000',
  '00000002211111222000000000000000',
  '00000022111111112200000000000000',
  '00000021111111111200000000000000',
  '00000021113311331200000000000000',
  '00000021113311331200000000000000',
  '00000021111111111200000000000000',
  '00000002233333322000000000000000',
  '00000000223333220000000000000000',
  '00000000022222200000000000000000',
  '00000002211111220000000000000000',
  '00000022111111112200000000000000',
  '00002221133331112220000000000000',
  '00022111333331111122000000000000',
  '00021113333333311112000000000000',
  '00021133333333331112000000000000',
  '00022113333333311122000000000000',
  '00002211333333112220000000000000',
  '00000221133331122000000000000000',
  '00000022111111220000000000000000',
  '00000221100001122000000000000000',
  '00002210000000122000000000000000',
  '00002200000000022000000000000000',
  '55555555555555555555555555555555',
  '54444444444444444444444444444445',
  '54447777744444444444444447777745',
  '54444444444444444444444444444445',
  '55555555555555555555555555555555',
  '00000000000000000000000000000000',
  '00000000000000000000000000000000',
];

// Character sprite mapping
export const CHARACTER_SPRITES: Record<CharacterType, { standing: string[]; jumping: string[] }> = {
  surfer: { standing: STANDING_TEMPLATE, jumping: JUMPING_TEMPLATE },
  cat: { standing: CAT_STANDING, jumping: CAT_JUMPING },
  dog: { standing: DOG_STANDING, jumping: JUMPING_TEMPLATE },
  robot: { standing: ROBOT_STANDING, jumping: JUMPING_TEMPLATE },
  coach: { standing: STANDING_TEMPLATE, jumping: JUMPING_TEMPLATE },
  runner: { standing: STANDING_TEMPLATE, jumping: JUMPING_TEMPLATE },
};

export const CHARACTER_WIDTH = 32;
export const CHARACTER_HEIGHT = 32;

export function drawCharacter(
  ctx: CanvasRenderingContext2D,
  characterType: CharacterType,
  x: number,
  y: number,
  scale: number = 2,
  isJumping: boolean = false
) {
  const sprites = CHARACTER_SPRITES[characterType];
  const colors = CHARACTER_COLORS[characterType];
  const sprite = isJumping ? sprites.jumping : sprites.standing;
  const pixelSize = scale;

  ctx.save();
  
  for (let row = 0; row < sprite.length; row++) {
    for (let col = 0; col < sprite[row].length; col++) {
      const colorIndex = parseInt(sprite[row][col]) as keyof typeof colors;
      const color = colors[colorIndex];
      
      if (color !== 'transparent') {
        ctx.fillStyle = color;
        ctx.fillRect(
          x + col * pixelSize,
          y + row * pixelSize,
          pixelSize,
          pixelSize
        );
      }
    }
  }
  
  ctx.restore();
}

